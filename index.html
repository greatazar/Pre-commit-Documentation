<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html lang="en">
<!--<![endif]-->

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">

    <title>Pre-Commit Documentation by Azar</title>

    <!-- <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon"> -->

    <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/stroke.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/animate.css">
    <link rel="stylesheet" type="text/css" href="css/prettyPhoto.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">

    <link rel="stylesheet" type="text/css" href="js/syntax-highlighter/styles/shCore.css" media="all">
    <link rel="stylesheet" type="text/css" href="js/syntax-highlighter/styles/shThemeRDark.css" media="all">

    <!-- CUSTOM -->
    <link rel="stylesheet" type="text/css" href="css/custom.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
    <button onclick="topFunction()" id="myBtn" title="Go to top"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>

    <script>
        var mybutton = document.getElementById("myBtn");
        window.onscroll = function() {scrollFunction()};
        function scrollFunction() {
            if (document.body.scrollTop > 1000 || document.documentElement.scrollTop > 1000) {
                mybutton.style.display = "block";
            } else {
                mybutton.style.display = "none";
            }
        }
        function topFunction() {
            window.scrollTo({ top: 0, behavior: 'smooth' })
            document.documentElement.scrollTo({ top: 0, behavior: 'smooth' })
        }

        document.addEventListener("DOMContentLoaded", () => {
            document.querySelector('#mode').addEventListener('click',()=>{
                document.querySelector('html').classList.toggle('dark');
            })
        });


    </script>

    <div id="wrapper">

        <div id="mode" >
            <div class="dark">
                <svg aria-hidden="true" viewBox="0 0 512 512">
                    <title>lightmode</title>
                    <path fill="currentColor" d="M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"></path>
                </svg>
            </div>
            <div class="light">
                <svg aria-hidden="true" viewBox="0 0 512 512">
                    <title>darkmode</title>
                    <path fill="currentColor" d="M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"></path>
                </svg>
            </div>
        </div>

        <div class="container">

            <section id="top" class="section docs-heading">

                <div class="row">
                    <div class="col-md-12">
                        <div class="big-title text-center">
                            <h1>Pre-Commit</h1>
                            <p class="lead">A framework for managing and maintaining multi-language pre-commit hooks.</p>
                        </div>
                        <!-- end title -->
                    </div>
                    <!-- end 12 -->
                </div>
                <!-- end row -->

                <hr>

            </section>
            <!-- end section -->

            <div class="row">

                <div class="col-md-3">
                    <nav class="docs-sidebar" data-spy="affix" data-offset-top="300" data-offset-bottom="200" role="navigation">
                        <ul class="nav">
                            <li><a href="#line1">Installation</a>
                                <ul class="nav">
                                    <li><a href="#line1_1">Virtual Environment</a></li>
                                    <li><a href="#line1_2">Pre-Commit</a></li>
                                </ul>
                            </li>
                            <li><a href="#line2">Setting up Pre-commit</a>
                                <ul class="nav">
                                    <li><a href="#line2_1">For Python</a></li>
                                    <li><a href="#line2_2">Install the git hook scripts</a></li>
                                </ul>
                            </li>
                            <li><a href="#line3">Example</a></li>
                            
                        </ul>
                    </nav >
                </div>
                <div class="col-md-9">
                    <section class="welcome">

                        <div class="row">
                            <div class="col-md-12 left-align">
                               <h2 class="dark-text">Introduction<hr></h2>
                                <div class="row">

                                    <div class="col-md-12 full">
                                        <div>
                                            <p>Git hook scripts are useful for identifying simple issues before submission to code review. It will run the hooks on every commit to automatically point out issues in code such as missing semicolons, trailing whitespace, and debug statements. By pointing these issues out before code review, this allows a code reviewer to focus on the architecture of a change while not wasting time with trivial style nitpicks.
                                            For more info <a href="https://pre-commit.com/index.html" target="_blank">Click here</a>
                                            </p>

                                            <h4>Requirements</h4>
                                            <p>You will need the following sofwares to use this tool.</p>
                                            <ol>
                                                <li>Python above 3.5</li>
                                                <li>GIT</li>
                                            </ol>
                                        </div>
                                    </div>

                                </div>
                                <!-- end row -->
                            </div>
                        </div>
                    </section>

                    <section id="line1" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Installation <hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-md-12" id="line1_1">
                                <h4 >Virtual Environment</h4>
                                <p>Before starting a project, we should create a virtual environment for that project. To create a virtual environment, we need to install the below package.</p>
                                <pre>$ pip install virtualenv</pre>
                                OR
                                <pre>$ pip3 install virtualenv</pre>
                                <p>Test your installation:</p>
                                <pre>$ virtualenv --version</pre>

                                <p>Go to your project root directory in the terminal. Now, You can create a virtualenv using the following command: </p>
                                <pre>$ virtualenv env</pre>

                                <p>After running this command, a directory named env will be created. This is the directory which contains all the necessary executables to use the packages that a Python project would need. This is where Python packages will be installed.</p>
                                
                                <p>If you want to specify Python interpreter of your choice, for example Python 3, it can be done using the following command:</p>

                                <pre>$ virtualenv -p /usr/bin/python3 virtualenv_name</pre>

                                <p>Now after creating virtual environment, you need to activate it. Remember to activate the relevant virtual environment every time you work on the project. This can be done using the following command:</p>

                                <strong>For Linux</strong>
                                <pre>$ source virtualenv_name/bin/activate</pre>

                                <strong>For Windows</strong>
                                <pre>$ env\Scripts\activate</pre>
                            </div>
                            <div class="col-md-12"  id="line1_2">
                                <h4>Pre-Commit</h4>
                                <p>Before you can run hooks, you need to have the pre-commit package manager installed.</p>
                                <strong>Using pip:</strong>

                                <pre>pip install pre-commit</pre>

                                <p>OR</p>

                                <pre>pip3 install pre-commit</pre>

                                <p>In a python project, add the following to your requirements.txt (or requirements-dev.txt):</p>
                                <pre>pre-commit</pre>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                    </section>
                    <!-- end section -->

                    <section id="line2" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Setting up Pre-commit <hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-md-12" >
                                <h4 id="line2_1">For Python</h4>
                                <p>create a file named <code>.pre-commit-config.yaml</code> in the project root </p>
                                <p>Copy the below configuration and paste it into your yaml file. This configuration has been tested with python 3.6, 3.7, and 3.8. We can upgrade or downgrade any hooks by changing the <strong>rev:</strong> attribute in the YAML file. But that hook version should compatible with your python version.</ul>
                                <pre>
exclude: 'docs|node_modules|migrations|.git|.tox'

repos:
- repo: https://github.com/pre-commit/pre-commit-hooks
  rev: v4.1.0
  hooks:
    - id: check-added-large-files
    - id: trailing-whitespace
    - id: double-quote-string-fixer
    - id: end-of-file-fixer
    - id: check-yaml

- repo: https://github.com/psf/black
  rev: '22.1.0'
  hooks:
    - id: black
      args: [--line-length=120, --skip-string-normalization]

- repo: https://github.com/asottile/reorder_python_imports
  rev: v2.0.0
  hooks:
    - id: reorder-python-imports

- repo: https://gitlab.com/pycqa/flake8
  rev: 4.0.1
  hooks:
    - id: flake8
      additional_dependencies: [
      'flake8-comprehensions',
      'flake8-deprecated',
      'flake8-mutable',
      'flake8-string-format',
      'flake8-tidy-imports']
      args: ['--config=setup.cfg', '--max-line-length=120', --extend-ignore=E203]

- repo: https://github.com/asottile/pyupgrade
  rev: v2.31.0
  hooks:
    - id: pyupgrade

- repo: https://github.com/PyCQA/pylint
  rev: v2.12.2
  hooks:
    - id: pylint
      args: [--max-line-length=120, --disable=all, --enable=W0102, --enable= R1714, --enable=C0116,
      --enable= C0115, --enable=W0107, --enable=E1101, --enable=C0114]
                                    </pre>
                            </div>

                            <div class="col-md-12" id="line2_2">
                                <h4>Install the git hook scripts</h4>
                                <p>Run the below command to set up the git hook scripts</p>
                                <pre>$ pre-commit install</pre>
                                <p>Now <code>pre-commit</code> will run automatically on <code>git commit</code>!</p>
                            </div>
                        </div>

                    </section>
                    <!-- end section -->

                    <section id="line3" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Example <hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <p>Let us take the below python code for example.</p>
                        <pre class="brush: html; highlight: [1,2,3,4,5,6,7,11,12,19,27,41,60.61,62,63,64]">
                            


                            


import pandas
import os
import sys
import threading


class Animal:
    def __init__(      self, source=''):
        self.init = "This is the class welcome message for Animal class. This init function will be invoked when the object is created."
        if source:
            print('Call from ' + source)
        else:
            print(self.init)

    def who_am_i(self):
        listNumbers = [1, 2, 3, 4, 5]
        print('I am a animal')

    def eat(self):
        print('I am eating')


class students_details:
    def find_grade     (     self, mark):
        if mark > 90:
            letter = 'A'
        elif mark > 80:
            letter = 'B'
        elif mark > 60:
            letter = 'C'
        elif mark > 50:
            letter = 'D'
        elif mark > 40:
            letter = 'E'
        return letter

    def get_medal(self, grade):
        if grade == 'A' or grade is 'B':
            return 'GOLD MEDAL'
        if grade == 'C' or grade == 'D':
            return 'SILVER MEDAL'
        if grade == 'E':
            return 'Fail'


if __name__ == '__main__':
    animal = Animal()
    animal.who_am_i()
    animal.eat()

    grade = students_details()
    grade_letter = grade.find_grade(85)
    grades = ['A', 'B', 'C', 'D', 'E']
    all_grade = {grade.get_medal(x) for x in grades}
    print(all_grade)





    








                        </pre>
                        <p>Add and commit the file in the GIT. For the first commit, it will take some time to set up the environment. Please be patient until completing.</p>
                        <pre>$ git add sample.py 
$ git commit sample.py -m "test pre commit tool"
                        </pre>

                        <p>The <code>pre-commit</code> tool will check the code and suggest errors/changes whenever the <code>git commit</code> command is executed. Some changes will be made automatically by the <code>pre-commit</code> tool. Here are errors/changes suggested by pre-commit for the above code</p>

                        <img src="images/errors.png" alt="pre-commit error" class="img-responsive img-thumbnail">

                        <p>After we have fixed all the issues suggested by the pre-commit tool, see the final code. It looks clean and beautiful !!!</p>

                        <pre class="brush: html">
                            '''
                            This is the docstring of the sample class file to demonstrate pre-commit functionality
                            '''
                            
                            
                            class Animal:
                                '''
                                This is the docstring of the Animal class
                                '''
                            
                                def __init__(self, source=''):
                                    self.init = """This is the class welcome message for Animal class.
                                    This init function will be invoked when the object is created."""
                                    if source:
                                        print('Call from ' + source)
                                    else:
                                        print(self.init)
                            
                                def who_am_i(self):
                                    '''
                                    This is the docstring of method
                                    '''
                                    print('I am a animal')
                            
                                def eat(self):
                                    '''
                                    This is the docstring of method
                                    '''
                                    print('I am eating')
                            
                            
                            class students_details:
                                '''
                                This is the docstring of the student_details class
                                '''
                            
                                def find_grade(self, mark):
                                    '''
                                    This is the docstring of method
                                    '''
                                    if mark > 90:
                                        letter = 'A'
                                    elif mark > 80:
                                        letter = 'B'
                                    elif mark > 60:
                                        letter = 'C'
                                    elif mark > 50:
                                        letter = 'D'
                                    elif mark > 40:
                                        letter = 'E'
                                    return letter
                            
                                def get_medal(self, grade):
                                    '''
                                    This is the docstring of method
                                    '''
                                    if grade in ('A', 'B'):
                                        return 'GOLD MEDAL'
                                    if grade in ('C', 'D'):
                                        return 'SILVER MEDAL'
                                    if grade == 'E':
                                        return 'Fail'
                            
                            
                            if __name__ == '__main__':
                                animal = Animal()
                                animal.who_am_i()
                                animal.eat()
                            
                                grade = students_details()
                                grade_letter = grade.find_grade(85)
                                grades = ['A', 'B', 'C', 'D', 'E']
                                all_grade = {grade.get_medal(x) for x in grades}
                                print(all_grade)
                            
                        </pre>

                        <p>If you want to fix some issues and check with the pre-commit tool, we can run the below command.</p>

                        <pre>$ pre-commit run --files sample.py</pre>

                        <div class="intro2 clearfix">
                            <p><i class="fa fa-exclamation-triangle"></i> Before committing, the file should be staged. Because the <code>pre-commit</code> tool will look only at staged version files. If you want to skip the <code>git add</code> command, use the below command. But this command will stage & commit all modified and deleted files.
                            </p>
                        </div>
                        <br>
                        <pre>$ git commit -a -m "Pre-commit test"</pre>
                    </section>
                    <!-- end section -->

                </div>
                <!-- // end .col -->

            </div>
            <!-- // end .row -->

        </div>
        <!-- // end container -->

    </div>
    <!-- end wrapper -->

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/retina.js"></script>
    <script src="js/jquery.fitvids.js"></script>
    <script src="js/wow.js"></script>
    <script src="js/jquery.prettyPhoto.js"></script>

    <!-- CUSTOM PLUGINS -->
    <script src="js/custom.js"></script>
    <script src="js/main.js"></script>

    <script src="js/syntax-highlighter/scripts/shCore.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushXml.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushCss.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushJScript.js"></script>

</body>

</html>
